<body class="mat-app-background">
  <mat-sidenav-container class="example-container" style="height: 100%;">
    <mat-sidenav #sidenav mode="side"  [(opened)]="opened" style="width: 60px;  ">
      <div
        style="display: flex ; flex-direction: column; justify-content: space-between ; align-items: flex-end;overflow: hidden;">
        <div style="color: black;">
          
          <!-- Home -->
          <a routerLink="home"><button mat-button matTooltip="{{'NAVBAR.HOME' | translate}}" 
              class="sideNavContent"><i class="fas fa-home barIcon"></i></button></a>

          <!-- Database -->
          <div *ngIf="dbConnection==true; else noData">
            <button mat-button matTooltip="{{'NAVBAR.DATABASE.CONNECTION' | translate}}" 
              [matMenuTriggerFor]="menu" class="sideNavContent"><i class="fas fa-database barIcon"></i></button>
          </div>

          <ng-template #noData>
            <a routerLink="login">
              <button mat-button matTooltip="{{'NAVBAR.DATABASE.NO_CONNECTION' | translate}}" color="warn"
                class="sideNavContent"><i class="fas fa-database barIcon"></i></button></a>

          </ng-template>

          <!-- Users -->
          <a routerLink=""><button mat-button matTooltip="{{'NAVBAR.USERS' | translate}}" 
              class="sideNavContent"><i class="fas fa-users barIcon"></i></button></a>

          <!-- Widgets -->
          <button mat-button matTooltip="{{'NAVBAR.WIDGETS' | translate}}"  class="sideNavContent"
            (click)="openDialog()"><i class="fas fa-th-large barIcon"></i></button>

          <!-- Widget editing -->
          <div *ngIf="this.shared.editGrid != null">
            <div *ngIf="this.shared.editGrid == false; else editingEnabled">
              <button mat-button matTooltip="{{'NAVBAR.EDIT' | translate}}" 
                class="sideNavContent" (click)="editGrid()"><i class="fas fa-edit barIcon"></i></button>
            </div>
          </div>

          <ng-template #editingEnabled>
            <button mat-button matTooltip="{{'NAVBAR.EDIT' | translate}}" color="accent" class="sideNavContent"
              (click)="editGrid()"><i class="fas fa-edit barIcon"></i></button>
          </ng-template>


          <!-- Settings -->
          <a routerLink=""><button mat-button matTooltip="{{'NAVBAR.SETTINGS' | translate}}" 
              class="sideNavContent"><i class="fas fa-cogs barIcon"></i></button></a>

          <!-- Bug report -->
          <a href="https://github.com/SZtyro/JdbcAngular/issues"><button mat-button
              matTooltip="{{'NAVBAR.BUG_REPORT' | translate}}"  class="sideNavContent"><i
                class="fas fa-bug barIcon"></i></button></a>

          <mat-menu #menu="matMenu">
            <button mat-menu-item *ngFor="let item of tableNames" (click)="openTable(item)">{{item}}</button>

          </mat-menu>


        </div>


        <!-- <div style="align-self: flex-end; display: flex; justify-content: end; align-items: flex-end; flex-direction: column;"> -->
        <div style="justify-content: flex-end;">
          <mat-divider style="margin: 10px;"></mat-divider>

          <!-- Info -->
          <a href="https://github.com/SZtyro"><button mat-button  class="sideNavContent"><i
                class="fas fa-info  barIcon"></i></button></a>

          <!-- Change language -->

          <button mat-button matTooltip="{{'NAVBAR.LANGUAGE' | translate}}" 
            [matMenuTriggerFor]="langMenu" class="sideNavContent"
            style="font-size: 30px; font-weight: 800; ">{{translate.currentLang | uppercase }}</button>
          <mat-menu #langMenu="matMenu">
            <button mat-menu-item *ngFor="let lang of translate.getLangs()"
              (click)="translate.use(lang)">{{lang | uppercase}}</button>

          </mat-menu>


          <!-- Sing out -->
          <button mat-button matTooltip="{{'NAVBAR.SIGN_OUT' | translate}}" 
            class="sideNavContent" (click)="signOut()"><i class="fas fa-door-open barIcon"></i></button>
        </div>
      </div>






    </mat-sidenav>

    <mat-sidenav-content style="display: flex;">
      
      <div *ngIf="(isSignedIn$ | async); else noUser">
        <!-- <div (mouseenter)="sidenav.open()"
          style="height: 100%;width: 1%; float: left; display: flex; justify-content: center; align-items: center;">
          <i class="fas fa-caret-right fa-2x"></i>
        </div> -->
       
        <div style="width: 100%;">
          <router-outlet></router-outlet>
        </div>
<!-- 
        zz
        <div style="height: 100%;width: 1%; float: right; ">

        </div> -->
      </div>


      <ng-template #noUser>
        <div style="width: 100%;">
          
          <router-outlet></router-outlet>
        </div>
      </ng-template>




    </mat-sidenav-content>
  </mat-sidenav-container>

</body>